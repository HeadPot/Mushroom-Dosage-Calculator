<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mushroom Dosage Calculator</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Arial&display=swap" rel="stylesheet">
  <style>
    body {
      background: url('https://source.unsplash.com/1600x900/?dark-mushrooms,graphic') no-repeat center center fixed;
      background-size: cover;
      color: #e0e0e0;
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
    }
    .site-header {
      text-align: center;
      font-size: 2em;
      color: #9b59b6; /* Changed to purple */
      text-shadow: 0 0 5px rgba(155, 89, 182, 0.7);
      font-family: 'Orbitron', sans-serif;
      margin-top: 80px;
      margin-bottom: 40px;
    }
    .container {
      max-width: 450px;
      margin: 0 auto 100px auto;
      padding: 25px;
      background: rgba(26, 26, 26, 0.9);
      box-shadow: 0 0 20px rgba(0,0,0,0.8);
      border-radius: 12px;
      position: relative;
      z-index: 1;
    }
    .menus {
      margin-top: 30px;
    }
    .input-group {
      display: flex;
      align-items: center;
      margin: 20px 0;
    }
    .input-group label {
      width: 120px;
      text-align: right;
      font-weight: 700;
      color: #e0e0e0;
      margin-right: 15px;
      font-size: 1.1em;
    }
    input, select {
      flex: 1;
      padding: 10px;
      background-color: #333;
      color: #e0e0e0;
      border: 1px solid #555;
      border-radius: 6px;
      font-size: 1em;
      transition: border-color 0.3s;
    }
    input:hover, select:hover {
      border-color: #9b59b6;
    }
    #weight-unit {
      max-width: 60px;
      margin-left: 10px;
    }
    #result {
      margin-top: 25px;
      padding: 15px;
      background: linear-gradient(45deg, #2a2a2a, #3a3a3a);
      border: 2px solid #9b59b6;
      border-radius: 8px;
      font-size: 1.1em;
      text-align: center;
      font-weight: 700;
      color: #e0e0e0;
      box-shadow: 0 0 10px rgba(155, 89, 182, 0.4);
    }
    #result span {
      color: #9b59b6;
      font-size: 1.1em;
      font-weight: bold;
    }
    .disclaimer {
      font-size: 0.75em;
      color: #ccc;
      text-align: center;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1 class="site-header">Mushroom Dosage Calculator</h1>
  <div class="container">
    <div class="menus">
      <div class="input-group">
        <label for="weight">Weight</label>
        <input type="number" id="weight" step="0.1" min="1" required placeholder="e.g., 70">
        <select id="weight-unit">
          <option value="kg" selected>kg</option>
          <option value="lb">lb</option>
        </select>
      </div>
      <div class="input-group">
        <label for="strain">Strain</label>
        <input list="strains" id="strain" required placeholder="Type strain (e.g., APE)">
        <datalist id="strains">
          <option value="Golden Teacher (GT)" data-potency="1.0">
          <option value="B+" data-potency="1.0">
          <option value="Penis Envy (PE)" data-potency="1.5">
          <option value="Blue Meanie (BM)" data-potency="1.2">
          <option value="Albino Penis Envy (APE)" data-potency="1.8">
          <option value="Mazatapec (MZ)" data-potency="1.0">
          <option value="Cambodian (CAM)" data-potency="1.0">
          <option value="Thai (TH)" data-potency="1.0">
          <option value="Ecuador (ECU)" data-potency="1.0">
          <option value="Amazonian (AMZ)" data-potency="1.1">
          <option value="Burma (BUR)" data-potency="1.0">
          <option value="Treasure Coast (TC)" data-potency="1.0">
          <option value="Orissa India (OI)" data-potency="1.2">
          <option value="Malabar (MAL)" data-potency="1.0">
          <option value="Z-Strain (ZS)" data-potency="1.1">
          <option value="Tidal Wave (TW)" data-potency="1.4">
          <option value="Lizard King (LK)" data-potency="1.0">
          <option value="PES Hawaiian (PESH)" data-potency="1.0">
          <option value="Jedi Mind Fuck (JMF)" data-potency="1.5">
          <option value="White Rabbit (WR)" data-potency="1.2">
          <option value="Hillbilly (HB)" data-potency="1.0">
          <option value="Melmac (MEL)" data-potency="1.4">
          <option value="Rusty Whyte (RW)" data-potency="1.0">
          <option value="Trinity (TRI)" data-potency="1.1">
          <option value="Avery's Albino (AA)" data-potency="1.2">
          <option value="Enigma (ENI)" data-potency="1.6">
          <option value="Yeti (YT)" data-potency="1.3">
          <option value="Alcabenzi (ALC)" data-potency="1.0">
          <option value="Chitwan (CHT)" data-potency="1.0">
          <option value="Costa Rican (CR)" data-potency="1.0">
          <option value="Creeper (CRP)" data-potency="1.0">
          <option value="Dancing Tiger (DT)" data-potency="1.0">
          <option value="Dixie (DX)" data-potency="1.0">
          <option value="Florida White (F+)" data-potency="1.0">
          <option value="Fuzzy Balls (FB)" data-potency="1.2">
          <option value="Ghost (GH)" data-potency="1.3">
          <option value="Hanoi (HAN)" data-potency="1.0">
          <option value="Huautla (HUA)" data-potency="1.0">
          <option value="Jedi (JED)" data-potency="1.5">
          <option value="Koh Samui (KS)" data-potency="1.0">
          <option value="Leucistic Golden Teacher (LGT)" data-potency="0.9">
          <option value="Liberty Cap (LC)" data-potency="1.5">
          <option value="Lipa Yai (LY)" data-potency="1.0">
          <option value="Malaysian (MYS)" data-potency="1.0">
          <option value="Mexican (MEX)" data-potency="1.0">
          <option value="Oak Ridge (OR)" data-potency="1.0">
          <option value="Palenque (PAL)" data-potency="1.0">
          <option value="Panama (PAN)" data-potency="1.0">
          <option value="Pink Buffalo (PB)" data-potency="1.0">
          <option value="Puerto Rican (PR)" data-potency="1.1">
          <option value="Tampanensis (Pollock) (TAM)" data-potency="1.0">
          <option value="Texas Yellow Cap (TYC)" data-potency="1.0">
          <option value="Transkei (TRK)" data-potency="1.0">
          <option value="Vietnam (VIE)" data-potency="1.0">
          <option value="Wavy Cap (WC)" data-potency="1.4">
          <option value="Wollongong (WOL)" data-potency="1.0">
          <option value="Psilocybe azurescens (AZU)" data-potency="2.8">
          <option value="Psilocybe cyanescens (CYA)" data-potency="1.4">
          <option value="Psilocybe natalensis (NAT)" data-potency="2.0">
          <option value="Psilocybe semilanceata (SEM)" data-potency="1.5">
          <option value="Psilocybe cubensis (CUB)" data-potency="1.0">
          <option value="Psilocybe mexicana (PMX)" data-potency="1.2">
          <option value="Psilocybe tampanensis (PTM)" data-potency="1.0">
          <option value="Psilocybe galindoi (GAL)" data-potency="1.1">
          <option value="Psilocybe ovoideocystidiata (OVO)" data-potency="1.3">
          <option value="Psilocybe subaeruginosa (SUB)" data-potency="1.4">
          <option value="Stuntzii (STZ)" data-potency="1.2">
          <option value="Aztec God (AZG)" data-potency="1.1">
          <option value="Golden Halo (GHAL)" data-potency="1.0">
          <option value="Jack Frost (JF)" data-potency="1.3">
          <option value="Moby Dick (MD)" data-potency="1.2">
          <option value="Pearly Gates (PG)" data-potency="1.2">
          <option value="Tassili (TAS)" data-potency="1.0">
          <option value="Acadian Coast (AC)" data-potency="1.0">
          <option value="African Transkei (AT)" data-potency="1.0">
          <option value="Albino A+ (A+)" data-potency="1.2">
          <option value="Albino Treasure Coast (ATC)" data-potency="1.1">
          <option value="Allen (ALN)" data-potency="1.0">
          <option value="Argentinia (ARG)" data-potency="1.0">
          <option value="Ban Hua Thanon (BHT)" data-potency="1.0">
          <option value="Big Brown Cap (BBC)" data-potency="1.0">
          <option value="Brazilian (BRZ)" data-potency="1.0">
          <option value="Chameleon (CHM)" data-potency="1.0">
          <option value="Corumba (COR)" data-potency="1.0">
          <option value="Cuban (CBN)" data-potency="1.0">
          <option value="Elephant Gate (EG)" data-potency="1.0">
          <option value="Escondido (ESC)" data-potency="1.0">
          <option value="Fatass (FAT)" data-potency="1.0">
          <option value="Goliath (GOL)" data-potency="1.0">
          <option value="Great White Monster (GWM)" data-potency="1.2">
          <option value="Gulf Coast (GC)" data-potency="1.0">
          <option value="Hawaiian (HAW)" data-potency="1.0">
          <option value="Honduras (HON)" data-potency="1.0">
          <option value="Keeperâ€™s Creepers (KC)" data-potency="1.0">
          <option value="Kerala (KER)" data-potency="1.0">
          <option value="McKennaii (MCK)" data-potency="1.2">
          <option value="Nepal (NEP)" data-potency="1.0">
          <option value="Panama Red (PRD)" data-potency="1.0">
          <option value="Peru (PER)" data-potency="1.0">
          <option value="PF Classic (PFC)" data-potency="1.0">
          <option value="Quezon (QUE)" data-potency="1.0">
          <option value="R44 (R44)" data-potency="1.0">
          <option value="South African (SA)" data-potency="1.0">
          <option value="South American (SAM)" data-potency="1.0">
          <option value="Star Gazer (SG)" data-potency="1.0">
          <option value="Syzygy (SZY)" data-potency="1.0">
          <option value="Tasmanian (TAS)" data-potency="1.0">
          <option value="Texas Orange Cap (TOC)" data-potency="1.0">
          <option value="Thai Pink (TP)" data-potency="1.0">
          <option value="Tulum (TUL)" data-potency="1.0">
          <!-- Additional strains -->
          <option value="Psilocybe zapotecorum (PZ)" data-potency="1.2">
          <option value="Psilocybe weilii (PW)" data-potency="1.0">
        </datalist>
      </div>
      <div class="input-group">
        <label for="trip-level">Trip Level</label>
        <select id="trip-level" required>
          <option value="">Select trip level</option>
          <option value="1">Microdose</option>
          <option value="2">Low</option>
          <option value="3">Normal</option>
          <option value="4">High</option>
          <option value="5">Heroic</option>
        </select>
      </div>
      <div id="result"></div>
      <p class="disclaimer">Disclaimer: This calculator provides an estimate based on average potencies. Actual potency may vary. Always start low to assess your response.</p>
    </div>
  </div>
  <script>
    // Dosage calculation is based on: finalDose = (baseDose * (weight/70)) / potencyFactor.
    // Base dosages (in grams) for each trip level are:
    // 1: Microdose = 0.25, 2: Low = 1.0, 3: Normal = 2.0, 4: High = 3.5, 5: Heroic = 5.0.
    document.getElementById('weight').addEventListener('input', calculate);
    document.getElementById('weight-unit').addEventListener('change', calculate);
    document.getElementById('strain').addEventListener('input', calculate);
    document.getElementById('trip-level').addEventListener('change', calculate);
    
    function calculate() {
      let weight = parseFloat(document.getElementById('weight').value);
      const unit = document.getElementById('weight-unit').value;
      // Convert lb to kg if necessary
      if (unit === 'lb') {
        weight = weight * 0.453592;
      }
      
      const strain = document.getElementById('strain').value;
      const level = document.getElementById('trip-level').value;
      const resultDiv = document.getElementById('result');
      
      if (!weight || weight <= 0) {
        resultDiv.innerHTML = 'Please enter a valid weight.';
        return;
      }
      
      // Find the matching option in the datalist
      const option = document.querySelector("datalist#strains option[value='" + strain + "']");
      if (!strain || !option) {
        resultDiv.innerHTML = 'Please select a valid strain from the list.';
        return;
      }
      
      if (!level) {
        resultDiv.innerHTML = 'Please select a trip level.';
        return;
      }
      
      const potencyFactor = parseFloat(option.getAttribute('data-potency'));
      const baseDosages = { 1: 0.25, 2: 1.0, 3: 2.0, 4: 3.5, 5: 5.0 };
      const baseDose = baseDosages[level];
      const weightAdjustedDose = baseDose * (weight / 70);
      const finalDoseGrams = weightAdjustedDose / potencyFactor;
      
      // For American users, show the result in grams and in ounces (1 gram = 0.035274 oz)
      if (unit === 'lb') {
        const finalDoseOunces = (finalDoseGrams * 0.035274).toFixed(3);
        resultDiv.innerHTML = `Recommended dosage: <span>${finalDoseGrams.toFixed(2)} grams (~${finalDoseOunces} oz, dried)</span>`;
      } else {
        resultDiv.innerHTML = `Recommended dosage: <span>${finalDoseGrams.toFixed(2)} grams (dried)</span>`;
      }
    }
  </script>
</body>
</html>
